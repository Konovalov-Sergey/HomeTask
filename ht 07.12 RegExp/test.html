<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	
	<script type="text/javascript">
window.onload = function() {
	var patternAge = /^\d{1,3}$/;
	var patternName = /^[a-zA-Zа-яА-Я'][a-zA-Zа-яА-Я-' ]+[a-zA-Zа-яА-Я']?$/u;
	var patternMail = /^[\w-\.]+@[\w-]+\.[a-z]{2,3}$/i
	var patternTel = /\d{3}\ \d{3} \d{2} \d{2}/;
	var mass = document.forms.form1.elements

	mass.name.onchange = function() {
		var myName = mass.name.value;
		var res = patternName.test(myName);

		if (res) {
			var message = "ФИО введено верно!";
		} else {
			message = "ФИО введено не правильно!";

		}
		document.getElementById("output").innerHTML = message;
		return res;
	}

	mass.age.onchange = function() {
		var myAge = mass.age.value;
		var res = patternAge.test(myAge);

		if (res) {
			var message = "Возраст введен верно!";
		} else {
			message = "Возраст введен не правильно!";
		}
		document.getElementById("output").innerHTML = message;
		return res;
	}
	mass.mail.onchange = function() {
		var myMail = mass.mail.value;
		var res = patternMail.test(myMail);

		if (res) {
			var message = "E-mail введен верно!";
		} else {
			message = "E-mail введен не правильно!";
		}
		document.getElementById("output").innerHTML = message;
		return res;
	}
	mass.tel.onchange = function() {
		var myTel = mass.tel.value;
		var res = patternTel.test(myTel);

		if (res) {
			var message = "Телефон введен верно!";
		} else {
			message = "Телефон введен не правильно!";
		}
		document.getElementById("output").innerHTML = message;
		return res;
	}
	
}
		
	</script>

	<style type="text/css">
		span {
			float: left;
			width: 50px;
		}
	</style>

</head>
<body>
	<form name="form1">
		<label>
			<span>Name</span>
			<input type="text" name="name" placeholder="Sergey Konovalov" value="">
		</label><br><br>
		<label>
			<span>Age</span>
			<input type="text" name="age" placeholder="31" value="">
		</label><br><br>
		<label>
			<span>E-mail</span>
			<input type="text" name="mail" placeholder="Konovalov.S.E@gmail.com" value=""> 
		</label><br><br>
		<label>
			<span>Tel.+38 </span>
			<input id="phone" type="text" name="tel" value="" placeholder="000 000 00 00" maxlength="13">
		</label><br><br>
	</form>
	<p id="output"> </p>

	<script src="http://yandex.st/jquery/1.8.3/jquery.min.js" type="text/javascript"></script>
	<script type="text/javascript">

	function clearVal(val) {
		var newVal = val.replace(/[^\d]+/g, '');
		// console.log(newVal);
		if (newVal == '') {
			return false
		} else {
			return newVal;
		}
	}
	function getResString(newVal) {
		var result = '';
		for (var i = 0; i < newVal.length; i++) {
			if (i == 3 || i == 6 || i == 8) {
				result += ' ';
				result += newVal.charAt(i);
			} else {
				result += newVal.charAt(i);
			}
		}
		return result;
	}


		$(function() {
			$('#phone').keyup(function() {
				var val = $(this).val();
				if (val == '') return;

				var newVal = clearVal(val);
				if(!newVal) {
					$(this).val('');
					return;
				} 
				var result = getResString(newVal);
				$(this).val(result);
			});
		});
	</script>
</body>
</html>